function User(b){newGuard(this,User);Movable.call(this);var a=this;a.weight=b;a.currentFloor=0;a.destinationFloor=0;a.done=false;a.removeMe=false}User.prototype=Object.create(Movable.prototype);User.prototype.appearOnFloor=function(b,c){var a=b.getSpawnPosY();this.currentFloor=b.level;this.destinationFloor=c;this.moveTo(null,a);this.pressFloorButton(b)};User.prototype.pressFloorButton=function(a){if(this.destinationFloor<this.currentFloor){a.pressDownButton()}else{a.pressUpButton()}};User.prototype.handleExit=function(e,d){if(d.currentFloor===this.destinationFloor){d.userExiting(this);this.currentFloor=d.currentFloor;this.setParent(null);var a=this.x+100;this.done=true;this.trigger("exited_elevator",d);this.trigger("new_state");this.trigger("new_display_state");var c=this;this.moveToOverTime(a,null,1+Math.random()*0.5,linearInterpolate,function b(){c.removeMe=true;c.trigger("removed");c.off("*")});d.off("exit_available",this.exitAvailableHandler)}};User.prototype.elevatorAvailable=function(c,b){if(this.done||this.parent!==null||this.isBusy()){return}if(!c.isSuitableForTravelBetween(this.currentFloor,this.destinationFloor)){return}var d=c.userEntering(this);if(d){this.setParent(c);this.trigger("entered_elevator",c);var a=this;this.moveToOverTime(d[0],d[1],1,undefined,function(){c.pressFloorButton(a.destinationFloor)});this.exitAvailableHandler=function(f,e){a.handleExit(e.currentFloor,e)};c.on("exit_available",this.exitAvailableHandler)}else{this.pressFloorButton(b)}};